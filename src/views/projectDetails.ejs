<div class="container">
    <div class="project-container d-flex justify-content-between mt-4 mb-3">
        <div class="project-detail">
            <span class="d-flex flex-columns align-items-center">
                <h2 class="text-primary"><%=project.name%></h2>
                <p class="ms-3 mb-0"><%=project.author%></p>
            </span>
            <p><%=project.description%></p>
        </div>
    </div>
    <div class="project-issue">
        <div class="filter">
            <input type="search" id="issueSearch" placeholder="Search...">
            <% if(!filtered){%>
              <i class="fa-solid fa-filter mx-2" data-bs-toggle="modal" data-bs-target="#filters"></i>
            <%}%>
            <%if(filtered){%>
              <a class="text-decoration-none" href="/project/<%=project._id%>">
                <i class="fa-solid fa-filter-circle-xmark mx-2"></i>
              </a>
            <%}%>
          <span>Total Issues: <%=issues.length%></span>
        </div>
        <button type="button" class="btn btn-warning my-3" data-bs-toggle="modal" data-bs-target="#addProject">
            <i class="fa-solid fa-circle-plus me-2"></i>
                Add Issue
        </button>
        <h3 class="mt-3 text-danger">Project Issues</h3>
        <div class="issues-container d-flex flex-wrap mt-4">
            <% issues.map((issue)=>{ %>
                <div class="issue-card" style="width: 16rem;">
                      <h5 class="issueTitle"><%=issue.title%></h5>
                      <p class="issueDesc"><b><%=issue.description%></b></p>
                      <div>
                            <span class="text-primary"><b>Labels:</b> </span>
                          <%issue.labels.map((label)=>{ %>
                              <span class="btn btn-info py-0 mb-2"><%=label%></span>
                          <%})%>
                      </div>
                      <p class="btn btn-secondary py-0 mb-0 mt-3 author"><%=issue.author%></p>
                      <a href="/project/<%=issue._id %>/deleteissue">
                        <i class="fa-solid fa-trash-can text-danger mx-3 fs-5" ></i>
                      </a>
                    </div>
            <% }) %>
        </div>
    </div>
      
      <!--Issue Modal -->
      <div class="modal fade" id="addProject" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog ">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Add Project Isssue</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body submit-form">
              <form action="<%=project._id%>/addissue" method="post">
                <label for="title"><b>Title:</b></label>
                <input type="text" name="title" id="title" required><br/>
                <label for="description"><b>Description: </b></label>
                <input type="text" name="description" id="description" required><br/>
                <label><b>Labels: </b></label>
                <div>
                  <input type="checkbox" id="Bug" name="labels" value="Bug" />
                  <label for="Bug">Bug</label>
                  <input type="checkbox" id="Duplicate" name="labels" value="Duplicate" />
                  <label for="Duplicate">Duplicate</label>
                  <input type="checkbox" id="Update" name="labels" value="Update" />
                  <label for="Update">Update</label>
                  <input type="checkbox" id="SyntaxError" name="labels" value="SyntaxError" />
                  <label for="SyntaxError">SyntaxError</label>
                  <input type="checkbox" id="Fix Typo" name="labels" value="Fix Typo" />
                  <label for="Fix Typo">Fix Typo</label><br/>              
                </div>
                <label for="author"><b>Author:</b></label>
                <input type="text" name="author" id="author" required><br/>
                <button type="submit" class="btn btn-primary">Submit</button>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>        </div>
          </div>
        </div>
      </div>

      <!-- Filter Modal -->
      <div class="modal fade" id="filters" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog ">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body submit-form">
              <form action="<%=project._id%>/filter" method="post">
                <label><b>Labels:</b> </label>
                <div>
                  <input type="checkbox" id="Bug" name="labels" value="Bug" />
                  <label for="Bug">Bug</label>
                  <input type="checkbox" id="Duplicate" name="labels" value="Duplicate" />
                  <label for="Duplicate">Duplicate</label>
                  <input type="checkbox" id="Update" name="labels" value="Update" />
                  <label for="Update">Update</label>
                  <input type="checkbox" id="SyntaxError" name="labels" value="SyntaxError" />
                  <label for="SyntaxError">SyntaxError</label>
                  <input type="checkbox" id="Fix Typo" name="labels" value="Fix Typo" />
                  <label Fix Typo="Bug">Fix Typo</label>                
                </div>
                <label for="author"><b>Author:</b></label>
                <input type="text" name="author" id="author"><br/>
                <button type="submit" class="btn btn-primary">Submit</button>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>        </div>
          </div>
        </div>
      </div>
</div>

